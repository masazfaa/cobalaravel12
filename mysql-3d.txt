-- 1. TABEL SELF HOSTED (File .glb sendiri)
CREATE TABLE `cesiumselfhosted` (
    `id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    `name` VARCHAR(255) NOT NULL,
    `description` TEXT NULL COMMENT 'Isi HTML Popup',
    `model_path` VARCHAR(255) NOT NULL COMMENT 'Lokasi file .glb',
    `longitude` DOUBLE NOT NULL,
    `latitude` DOUBLE NOT NULL,
    `height` DOUBLE DEFAULT 0,
    `heading` DOUBLE DEFAULT 0 COMMENT 'Rotasi dalam derajat',
    `geom` GEOMETRY NOT NULL SRID 4326, -- Tetap kita kasih spasial buat query lokasi
    `created_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
    `updated_at` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    SPATIAL INDEX(`geom`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- 2. TABEL CESIUM ION (Aset dari Cloud Cesium)
CREATE TABLE `cesiumion` (
    `id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    `ion_asset_id` BIGINT UNSIGNED NOT NULL COMMENT 'ID Aset dari Cesium Ion',
    `name` VARCHAR(255) NOT NULL,
    `description` TEXT NULL COMMENT 'Isi HTML Popup',
    `created_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
    `updated_at` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
